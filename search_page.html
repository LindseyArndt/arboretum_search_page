<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="author" content="Lindsey, Ahlea, Karis, Angie">
    <title>Tree Search</title>
    <link rel="stylesheet" href="search_page.css">
    <title>Search_page</title>
</head>

<header id="bar_up">
    <h1>
        <div id="image">Arb Icon</div>

        <div id="menu">
            <ul>
                <li><a href="search_page.php">Search</a></li>
                <li><a href="home.php">Home</a></li>
                <li><a href="tours.php">Tours</a></li>
                <li><a href="kwizz.php">Kwizz</a></li>
            </ul>
        </div>
    </h1>
</header>

<body id="search">

    <div>
        <form method="POST">
            <input id="inputSize" placeholder="Search... " type="text" name="searchBox" value=""><br>
            <input id="inputSize" type="submit" value="Search" onclick="loadXMLDoc()"><br>
            <p id="hint"> *Press the Search button to view available books* </p>
            <p id="data"></p>
        </form>
        <!-- This is where the new tree image will go -->
        <p id="newHTML"></p>
        <script>
            function loadXMLDoc() {
                //Code to do XML HTTP request (see slides) goes here
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function () {
                    if (this.readyState == 4 && this.status == 200) {
                        // Run a function to handle XML data recvâ€™d
                        myFunction(this);
                    }
                };
                xhttp.open("GET", "1.xml", true);
                xhttp.send();
            }

            function myFunction(xml) {
                var x, i, xmlDoc, txt;
                xmlDoc = xml.responseXML; //Response returned as XML data
                txt = "";
                entered = String(document.getElementById("searchBox").value);
                x = xmlDoc.getElementsByTagName("ThemeEntityAbridgedData");
                console.log(x[1]);
                console.log(entered);
                //"Austrian Pine"
                for (i = 0; i < x.length; i++) {
                    console.log(x[i].childNodes[1]);
                    if ((x[i].childNodes[1].innerHTML) === String(entered)) {
                        txt += x[i].childNodes[1].innerHTML + "<br>";
                        console.log(x[i].childNodes[1].innerHTML);
                        break;
                    }

                }
                console.log(txt);
                image = x[i].childNodes[0].innerHTML;
                txt += "<img src=" + image + ">";
                document.getElementById("newHTML").innerHTML = txt;

            }
        </script>
    </div>
</body>

<footer id="bar_down">
    <ul>
        <li><a href="winona.edu">Winona.edu</a></li>
        <li>Contact info</li>
    </ul>
</footer>

</html>